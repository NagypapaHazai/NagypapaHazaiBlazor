@inherits LayoutComponentBase

<!-- Felső navigációs sáv -->
<nav class="bg-gradient-to-r from-amber-800 via-orange-800 to-amber-800 text-white shadow-lg sticky top-0 z-50">
    <div class="container mx-auto px-4">
        <div class="flex items-center justify-between h-16">
            <!-- Logo -->
            <a href="/" class="text-2xl font-bold flex items-center gap-2">
                🏡 <span class="font-serif">Nagypapa Házai</span>
            </a>

            <!-- Desktop menü -->
            <div class="hidden md:flex items-center space-x-6">
                <NavLink href="/" class="hover:text-amber-200 transition-colors" Match="NavLinkMatch.All">
                    Főoldal
                </NavLink>
                <NavLink href="/properties" class="hover:text-amber-200 transition-colors">
                    Ingatlanok
                </NavLink>
                <NavLink href="/events" class="hover:text-amber-200 transition-colors">
                    Események
                </NavLink>
                <NavLink href="/bookings" class="hover:text-amber-200 transition-colors">
                    Foglalások
                </NavLink>

                <!-- JAVÍTOTT GOMB: Nincs benne <a> tag, és a href jó helyre mutat -->
                <NavLink href="bookings/create" class="bg-amber-600 hover:bg-amber-700 px-4 py-2 rounded-lg transition-colors text-white font-bold no-underline">
                    Új foglalás
                </NavLink>

                <a href="/about" class="bg-amber-600 hover:bg-amber-700 px-4 py-2 rounded-lg transition-colors text-white font-bold">
                    Rólunk
                </a>

                <!-- Ez a "Regisztráció" gomb, de a szövege el volt írva ("Regisztáció") -->
                <a href="/register" class="bg-amber-600 hover:bg-amber-700 px-4 py-2 rounded-lg transition-colors text-white font-bold">
                    Regisztráció
                </a>
            </div>

            <!-- Mobil hamburger menü -->
            <button @onclick="ToggleMobileMenu" class="md:hidden text-white">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
                </svg>
            </button>
        </div>

        <!-- Mobil menü (lenyíló) -->
        @if (mobileMenuOpen)
        {
            <div class="md:hidden pb-4 space-y-2">
                <NavLink href="/" class="block py-2 hover:bg-amber-700 px-3 rounded">Főoldal</NavLink>
                <NavLink href="/dashboard" class="block py-2 hover:bg-amber-700 px-3 rounded">Dashboard</NavLink>
                <NavLink href="/properties" class="block py-2 hover:bg-amber-700 px-3 rounded">Ingatlanok</NavLink>
                <NavLink href="/events" class="block py-2 hover:bg-amber-700 px-3 rounded">Események</NavLink>
                <NavLink href="/bookings" class="block py-2 hover:bg-amber-700 px-3 rounded">Foglalások</NavLink>
                <a href="/about" class="block py-2 hover:bg-amber-700 px-3 rounded">Rólunk</a>
            </div>
        }
    </div>
</nav>

<!-- Fő tartalom -->
<main class="min-h-screen bg-gradient-to-br from-amber-50 via-orange-50 to-yellow-50">
    <div class="container mx-auto px-4 py-8 max-w-7xl">
        @Body
    </div>
</main>

<!-- Footer -->
<footer class="bg-gradient-to-r from-amber-900 via-orange-900 to-amber-900 text-white py-12 mt-20">
    <div class="container mx-auto px-4 max-w-7xl">
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            <div>
                <h3 class="text-xl font-bold mb-4 font-serif">🏡 Nagypapa Házai</h3>
                <p class="text-amber-100">Közösségi vidéki házak, ahol készségeid cseréjéért kaphatsz szállást.</p>
            </div>
            <div>
                <h4 class="font-semibold mb-3">Linkek</h4>
                <ul class="space-y-2 text-amber-100">
                    <li><a href="/properties" class="hover:text-white">Ingatlanok</a></li>
                    <li><a href="/events" class="hover:text-white">Események</a></li>
                    <li><a href="/about" class="hover:text-white">Rólunk</a></li>
                </ul>
            </div>
            <div>
                <h4 class="font-semibold mb-3">Kapcsolat</h4>
                <p class="text-amber-100">Email: info@nagypapaházai.hu</p>
                <p class="text-amber-100">Tel: +36 20 123 4567</p>
            </div>
        </div>
        <div class="border-t border-amber-700 mt-8 pt-6 text-center text-amber-200">
            <p>&copy; 2026 Nagypapa Házai. Minden jog fenntartva.</p>
        </div>
    </div>
</footer>

@code {
    private bool mobileMenuOpen = false;

    private void ToggleMobileMenu()
    {
        mobileMenuOpen = !mobileMenuOpen;
    }
}
